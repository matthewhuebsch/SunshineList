{
    "contents" : "library(data.table)\nlibrary(ggplot2)\nrawData = read.csv(\"C:/Users/Matthew/Documents/SunshineList/Inputs/2015-combined-salary-seconded-en.csv\", stringsAsFactors = F)\nrawData[,4] = as.numeric(gsub(\"[$,]\",\"\", rawData[,4]))\nrawData_universities = rawData[rawData$Sector == \"Universities\", ]\nfor (i in (1:length(unique(rawData_universities$Employer)))){\n  print(unique(rawData_universities$Employer)[i])\n  filtered_df = rawData_universities[rawData_universities$Employer == unique(rawData_universities$Employer)[i], ]\n  hist(filtered_df$Salary.Paid)\n  \n}\n\n# boxplot(x = rawData_universities$Salary.Paid, data = filtered_df, formula = rawData_universities$Salary.Paid ~ rawData_universities$Employer)\ntop_universities = c(\"University of Toronto\", \"University of Ottawa\", \"University of Waterloo\", \"University of Western Ontario\")\nset1 = unique(rawData_universities$Employer)[1:12]\nset2 = unique(rawData_universities$Employer)[13:25]\nset3 = unique(rawData_universities$Employer)[25:55]\n\n# Find the distribution of salaries across schools\nrawData_universities_split_1 = subset(rawData_universities, Employer %in% set1)\nrawData_universities_split_2 = subset(rawData_universities, Employer %in% set2)\nrawData_universities_split_3 = subset(rawData_universities, Employer %in% set3)\n\nboxplot(Salary.Paid ~ Employer, data = rawData_universities, las=2)\nboxplot(Salary.Paid ~ Employer, data = rawData_universities_split_1, las=2)\nboxplot(Salary.Paid ~ Employer, data = rawData_universities_split_2, las=2)\nboxplot(Salary.Paid ~ Employer, data = rawData_universities_split_3, las=2)\n\n\nggplot(rawData_universities, aes(x=factor(Employer), y=Salary.Paid)) + geom_boxplot() + theme(axis.text.x  = element_text(angle=90, vjust=0.5))\nggplot(rawData_universities, aes(x=factor(Employer), y=Salary.Paid)) + geom_boxplot() + theme(axis.text.x  = element_text(angle=90, vjust=0.5)) + ylim(0,500000)\n\nrawData_universities$City = NA\n\n\n# Find the distribution of salaries vs roles (for Brock, e.g.)\nrawData_universities_Brock = rawData_universities[rawData_universities$Employer == \"Brock University\", ]\ntable(rawData_universities_Brock$Job.title)\nplot(table(rawData_universities_Brock$Job.title))\n\nggplot(rawData_universities_Brock, aes(x=factor(Job.title), y=Salary.Paid)) + geom_boxplot() + theme(axis.text.x  = element_text(angle=90, vjust=0.5)) + ylim(0,500000)\n\nrawData_universities_Brock_noDup = rawData_universities_Brock[(duplicated(rawData_universities_Brock$Job.title) | duplicated(rawData_universities_Brock$Job.title, fromLast = TRUE)), ]\nrawData_universities_Brock_noDup$Job.title = with(rawData_universities_Brock_noDup, reorder(Job.title, Salary.Paid, median))\nggplot(rawData_universities_Brock_noDup, aes(x=factor(Job.title), y=Salary.Paid)) + geom_boxplot() + theme(axis.text.x  = element_text(angle=90, vjust=0.5)) + ylim(0,500000)\n\n# Create the table condensing down to school\ntable(rawData_universities$Employer)\n\nsummary_university = setDT(rawData_universities)[, list(Median.Salary = median(Salary.Paid)), by=Employer]\n# Refactor next line by putting city in whole dataframe, then condensing down\nsummary_university$City = c(\"Sault Ste Marie\", \"London\", \"Ste Catharines\", \"Ottawa\", \"Sudbury\", \"London\", \"London\", \"Thunder Bay\", \"Sudbury\", \"Hamilton\",\n                            \"Hamilton\", \"North Bay\", \"Sudbury\", \"Toronto\", \"Kingston\", \"Toronto\", \"Ottawa\", \"Waterloo\", \"London\", \"Sudbury\", \"Peterborough\",\n                            \"Toronto\", \"Hearst\", \"Ottawa\", \"Guelph\", \"Oshawa\", \"Toronto\",\"Sudbury\", \"Toronto\", \"Waterloo\", \"London\", \"Windsor\", \"Toronto\", \"Waterloo\",\n                            \"Toronto\")\nsummary_city = summary_university[, list(Average.Salary = mean(Median.Salary)), by=City]\nbarplot(height = summary_city$Average.Salary, names.arg = summary_city$City, las=2)\n\nrawData_universities_dt = data.table(rawData_universities)\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"University of Toronto\" | \n                               rawData_universities_dt$Employer == \"York University\" | \n                               rawData_universities_dt$Employer == \"Ryerson University\" | \n                               rawData_universities_dt$Employer == \"University of St. Michael's College\" | \n                               rawData_universities_dt$Employer == \"Victoria University\" |\n                               rawData_universities_dt$Employer == \"Ontario College of Art & Design University\" |\n                               rawData_universities_dt$Employer == \"Trinity College\"] = \"Toronto\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"University of Ottawa\" |\n                               rawData_universities_dt$Employer == \"Carleton University\" |\n                               rawData_universities_dt$Employer == \"Saint Paul University / UniversitÃ© Saint-Paul\"] = \"Ottawa\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"University of Western Ontario\" |\n                               rawData_universities_dt$Employer == \"Brescia University College\" |\n                               rawData_universities_dt$Employer == \"Huron University College\" | \n                               rawData_universities_dt$Employer == \"King's University College\" | \n                               rawData_universities_dt$Employer == \"St. Peter's Seminary\"] = \"London\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"Algoma University\"] = \"Sault Ste Marie\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"Brock University\"] = \"Ste Catharines\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"Huntington University\" | \n                               rawData_universities_dt$Employer == \"Laurentian University of Sudbury\" | \n                               rawData_universities_dt$Employer == \"Northern Ontario School of Medicine\" |\n                               rawData_universities_dt$Employer == \"Thorneloe University\" |\n                               rawData_universities_dt$Employer == \"University of Sudbury\"] = \"Sudbury\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"Lakehead University\"] = \"Thunder Bay\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"McMaster University\" |\n                               rawData_universities_dt$Employer == \"McMaster Divinity College\"] = \"Hamilton\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"Nipissing University\"] = \"North Bay\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"Queen's University\"] = \"Kingston\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"University of Guelph\"] = \"Guelph\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"UniversitÃ© de Hearst\"] = \"Hearst\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"University of Ontario Institute of Technology\"] = \"Oshawa\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"Trent University\"] = \"Peterborough\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"St. Jerome's University\" |\n                               rawData_universities_dt$Employer == \"University of Waterloo\" |\n                               rawData_universities_dt$Employer == \"Wilfrid Laurier University\"] = \"Waterloo\"\nrawData_universities_dt$City[rawData_universities_dt$Employer == \"University of Windsor\"] = \"Windsor\"\nsummary_city = rawData_universities_dt[, list(Median.Salary = median(Salary.Paid)), by=City]\nsummary_city = summary_city[order(Median.Salary)]\nbarplot(height = summary_city$Median.Salary, names.arg = summary_city$City, las=2, ylab = \"Median Salary for City ($)\")\nrawData_universities_dt$City = with(rawData_universities_dt, reorder(City, Salary.Paid, median))\nggplot(rawData_universities_dt, aes(x=factor(City), y=Salary.Paid)) + geom_boxplot() + theme(axis.text.x  = element_text(angle=90, vjust=0.5)) + ylim(0,500000)\n\n\n\n\n\n# Find the cost of living for city and plot against median salary for university\n\n\n# Find the tuition for school and plot against median salary for university\n\n\n# Find the school's ranking and plot against median salary for university",
    "created" : 1465602431775.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3567255694",
    "id" : "93465BC",
    "lastKnownWriteTime" : 1465602491,
    "path" : "~/SunshineList/sunshine.R",
    "project_path" : "sunshine.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}